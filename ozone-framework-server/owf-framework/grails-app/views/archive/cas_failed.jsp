<!DOCTYPE html>
<%@ page import="org.springframework.security.core.AuthenticationException" %>
<%@ page import="org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter" %>
<%@ page import="java.lang.String" %>
<%@ page import="org.apache.commons.lang.StringEscapeUtils" %>

<html>
<head>
	<title>Login to CAS failed!</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<style type="text/css">
	<!--
	
	html, body, div, span, h1, h2, h3, p, a, img, ul, li, fieldset, form, label, legend {
		margin:0;
		padding:0;
		border:0;
		outline:0;
		font-weight:inherit;
		font-style:inherit;
		font-size:100%;
		font-family:inherit;
		vertical-align:baseline;
	}
	
	/* browser default font-size is 16px which is too big so we make it 16px x 62.5% = 10px */
	body {
		font:normal 400 62.5%/1.0 Arial,Verdana,Helvetica,sans-serif;
		min-width:960px;
		background:#000;
		color:#333;
	}
	
	div#outer {
		width: 430px;
		position:absolute;
		top:270px;
		left:50%;
		margin-bottom: 50px;
		margin-left: -215px;
		margin-right: auto;
		padding: 0px;
		border:0px;
	}
	div#main {
		margin-left: 0%;
		margin-top: 1px;
		padding: 0px;
	}
	div#outerTop {
		width: 430px;
		height: 200px;
		position:absolute;
		top:170px;
		left:50%;
		margin-bottom: 50px;
		margin-left: -215px;
		margin-right: auto;
		padding: 0px;
		border:0px;
		-moz-opacity:0.5;
		opacity:.50;
		filter:alpha(opacity=50);
		background-color:#000000;
	}
	
	div#mainTop {
		margin-left: 0%;
		margin-top: 1px;
		padding: 10px;
	}
	
	div#msgTop {
		width: 430px;
		height:90px;
		margin-top: 0px;
		position:absolute;
		top:180px;
		left:50%;
		margin-bottom: 50px;
		margin-left: -215px;
		margin-right: auto;
		padding: 0px;
		border:0px;
	}

	.container {
	 	width: expression((document.body.clientWidth < 822)? "820px" : "auto"); /* min-width for IE6 */
		min-width: 800px; /* min-width for all standards-compliant browsers */
	}
	
	.hdr {
		width:100%;
		background:#1547ac url(images/logout/wfHdrBkg.png) repeat-x 0 0;
		height:73px;
		position:relative;
		top:0;
		left:0;
	}
	
	.left {
		float:left;
		display: inline;
		white-space:nowrap;
	}
		
	#content {
		clear:both;
		padding:0;
		margin:0;
	}
	
	#logoutMsgHdr {
		color:#ffffff;	
		font-weight:bold;
		font-size:12px;
		padding:5px 0 0 15px;
	}
	
	#logoutMsg {
		color:#ffffff;	
		font-weight:normal;
		font-size:12px;
		padding:15px;
	}
	
	body {
		font-family:Arial, Verdana, Helvetica, sans-serif;
		font-size: 62%;
		padding: 0;
		margin: 0;
		background:#1547ac url(images/logout/wfBigBG.jpg) repeat 0 0;
	}
	
	</style>
	
</head>

<body id="cas">

<div id="content">
  <div id="outerTop">
    <div id="mainTop"> </div>
  </div>
  <div id="msgTop">
    <div id="logoutMsgHdr">Login via CAS failed!</div>
    <div id="logoutMsg">Your CAS credentials were rejected.<br/><br/> Reason: <% out.println(StringEscapeUtils.escapeHtml(((AuthenticationException) session.getAttribute(AbstractAuthenticationProcessingFilter.SPRING_SECURITY_LAST_EXCEPTION_KEY)).toString())); %></div>
  </div>
</div>

</body>
</html>
